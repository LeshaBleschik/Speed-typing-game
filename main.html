<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="favicon.ico" />
    <link rel="stylesheet" href="bootstrap.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,300&family=Viaoda+Libre&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/1b5337e3c1.js"
      crossorigin="anonymous"
    ></script>
    <title>Speed Typing Game</title>
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#content"
          ><span id="main">Typing Game</span><i class="fas fa-keyboard"></i
        ></a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" id="top-board" href="#content"
                >Главная<span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" id="top-board" href="#modes">Режимы</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="top-board" href="#about">О проекте</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="content">
      <h1>Приложение на скорость ввода текста.</h1>
      <hr />
      <p>
        Для кого-то это приложение может быть полезно в качестве тренировки для
        пальцев и мозгов, для кого-то - способ весело и непринужденно провести
        время. Пока глаза бегут по строчкам текста, ваш навык слепого набора и
        ваша мышечная памать становится совершеннее.
      </p>
      <hr />
      <h3>
        Проверьте свой навык набора текста выбрав приглянувшийся вам режим игры.
      </h3>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>

    <script>
      $(document).ready(function () {
        window.onhashchange = function () {
          let URLHash = window.location.hash;
          loadData(URLHash);
        };

        function loadData(URLHash) {
          let url;
          switch (URLHash) {
            case '#modes':
              url = 'modes.html';
              break;
            case '#about':
              url = 'about.html';
              break;
            case '#single_word':
              url = 'single_word.html';
              break;
            case '#whole_text':
              url = 'whole_text.html';
              break;
            case '#img_game':
              url = 'img_game.html';
              break;
            default:
              url = 'content.html';
              break;
          }
          $.ajax(url, {
            type: 'GET',
            dataType: 'html',
            success: dataLoaded,
            error: errorHandler,
          });
        }

        function dataLoaded(data) {
          document.querySelector('#content').innerHTML = data;
          switch (window.location.hash) {
            case '#modes':
              modesListeners();
              break;
          }
        }

        function modesListeners() {
          document
            .getElementById('singleWord')
            .addEventListener('click', function () {
              let singleWordScript = document.createElement('script');
              singleWordScript.src = '/js/single_word.js';
              document.body.appendChild(singleWordScript);
            });
        }

        function errorHandler() {
          console.log('Error');
        }
      });
    </script>
  </body>
</html>
